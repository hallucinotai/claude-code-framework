model Notification {
  id        String    @id @default(cuid())
  userId    String
  title     String
  body      String
  channel   String    @default("in-app")
  data      Json      @default("{}")
  readAt    DateTime?
  createdAt DateTime  @default(now())

  @@index([userId, readAt])
  @@index([userId, createdAt])
}
{{#if hasPush}}

model PushSubscription {
  id        String   @id @default(cuid())
  userId    String
  endpoint  String
  keys      Json
  createdAt DateTime @default(now())

  @@index([userId])
}
{{/if}}
