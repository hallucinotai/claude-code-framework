model Team {
  id        String       @id @default(cuid())
  name      String
  tenantId  String
  members   TeamMember[]
  invitations TeamInvitation[]
  createdAt DateTime     @default(now())
  updatedAt DateTime     @updatedAt

  @@index([tenantId])
}

model TeamMember {
  id       String   @id @default(cuid())
  teamId   String
  userId   String
  role     String   @default("member")
  joinedAt DateTime @default(now())

  team Team @relation(fields: [teamId], references: [id], onDelete: Cascade)

  @@unique([teamId, userId])
  @@index([teamId])
  @@index([userId])
}

model TeamInvitation {
  id         String    @id @default(cuid())
  teamId     String
  email      String
  role       String    @default("member")
  token      String    @unique
  invitedById String
  expiresAt  DateTime
  acceptedAt DateTime?
  createdAt  DateTime  @default(now())

  team Team @relation(fields: [teamId], references: [id], onDelete: Cascade)

  @@index([teamId])
  @@index([email])
}
